env: load .env
env: export IDFM_API_KEY ACTIVE_CITY MAPBOX_ACCESS_TOKEN DEBUG
Starting project at /Users/mbl/Downloads/transit-app
Starting Metro Bundler
The following packages should be updated for best compatibility with the installed expo version:
  @sentry/react-native@7.11.0 - expected version: ~7.2.0
Your project may not work correctly until you install the expected versions of the packages.
Waiting on http://localhost:8081
Logs for your project will appear below.
iOS node_modules/expo/AppEntry.js ░░░░░░░░░░░░░░░░  0.0% (0/1)
iOS Bundled 936ms node_modules/expo/AppEntry.js (2010 modules)
 WARN  expo-notifications: Android Push notifications (remote notifications) functionality provided by expo-notifications was removed from Expo Go with the release of SDK 53. Use a development build instead of Expo Go. Read more at https://docs.expo.dev/develop/development-builds/introduction/.
 WARN  `expo-notifications` functionality is not fully supported in Expo Go:
We recommend you instead use a development build to avoid limitations. Learn more: https://expo.fyi/dev-client.
 LOG  Sentry Logger [log]: Using Hermes native promise rejection tracking
 LOG  Sentry Logger [log]: Unhandled promise rejections will be caught by Sentry.
 LOG  Sentry Logger [log]: Integration installed: ReactNativeErrorHandlers
 LOG  Sentry Logger [log]: Integration installed: NativeLinkedErrors
 LOG  Sentry Logger [log]: Integration installed: InboundFilters
 LOG  Sentry Logger [log]: Integration installed: FunctionToString
 LOG  Sentry Logger [log]: Integration installed: Breadcrumbs
 LOG  Sentry Logger [log]: Integration installed: Dedupe
 LOG  Sentry Logger [log]: Integration installed: HttpContext
 LOG  Sentry Logger [log]: Integration installed: Release
 LOG  Sentry Logger [log]: Integration installed: EventOrigin
 LOG  Sentry Logger [log]: Integration installed: SdkInfo
 LOG  Sentry Logger [log]: Integration installed: ReactNativeInfo
 LOG  Sentry Logger [log]: Integration installed: RewriteFrames
 LOG  Sentry Logger [log]: Integration installed: StallTracking
 LOG  Sentry Logger [log]: Integration installed: AppRegistry
 LOG  Sentry Logger [log]: Integration installed: ReactNativeTracing
 LOG  Sentry Logger [log]: Integration installed: TimeToDisplay
 LOG  Sentry Logger [log]: Integration installed: ExpoContext
 LOG  Sentry Logger [log]: Integration installed: DebugSymbolicator
 LOG  Sentry Logger [log]: Integration installed: PrimitiveTagIntegration
 LOG  Sentry Logger [log]: Offline caching, native errors features are not available in Expo Go.
 LOG  Sentry Logger [log]: Use EAS Build / Native Release Build to test these features.
 LOG  [CrashReporting] Sentry initialized successfully
 WARN  SafeAreaView has been deprecated and will be removed in a future release. Please use 'react-native-safe-area-context' instead. See https://github.com/th3rdwave/react-native-safe-area-context
 LOG  [useAdapter] useEffect - adapterInstance: false
 LOG  [useAdapter] Initializing database and adapter...
 LOG  [Database] Initializing database...
 LOG  [Database] Creating indexes...
 LOG  [Database] ✅ Database initialized successfully
 LOG  [Analytics] Amplitude disabled - skipping init
 LOG  [useColorScheme] Loading theme from storage...
 LOG  [IzmirAdapter] Initializing adapter...
 LOG  [Database] Initializing database...
 LOG  [Database] Creating indexes...
 LOG  [Database] ✅ Database initialized successfully
 LOG  [IzmirAdapter] Database initialized with data: {"routes": 457, "stopTimes": 207679, "stops": 11732, "trips": 9617}
 LOG  [useColorScheme] Theme loaded: light
 LOG  [useColorScheme] Theme ready
 LOG  [Database] Active services for 20260212 (thursday): 10
 LOG  [useGTFSData] Stop counts: {"bus": 11605, "ferry": 9, "metro": 24, "other": 0, "rail": 41, "railServicesActive": 2, "railStopTimes": 6564, "total": 11732, "tram": 53}
 LOG  [useAdapter] ✅ İzmir adapter ready
 LOG  [useAdapter] Init complete, setting adapter
 LOG  [App] GTFS data loaded and adapter ready, showing app
 LOG  [RootNavigator] Component called
 LOG  [RootNavigator] isDark: false
 LOG  [RootNavigator] useTheme succeeded
 LOG  [RootNavigator] Rendering NavigationContainer...
 LOG  [NavigationContent] Rendering...
 LOG  [NavigationContent] isExpoGo: true
 LOG  [NavigationContent] useNotifications skipped (Expo Go)
 LOG  [NavigationContent] Rendering Tab.Navigator...
 LOG  [useStops] Returning - stops: 0, loading: true
 LOG  [useAdapter] useEffect - adapterInstance: true
 LOG  [useAdapter] Already initialized, setting adapter
 LOG  [useAdapter] useEffect - adapterInstance: true
 LOG  [useAdapter] Already initialized, setting adapter
 LOG  [IzmirAdapter] Getting alerts...
 LOG  [MapScreen] Initializing...
 LOG  [MapScreen] Loading all stops...
 LOG  [useAdapter] useEffect - adapterInstance: true
 LOG  [useAdapter] Already initialized, setting adapter
 LOG  [IzmirAdapter] Loading routes...
 LOG  [IzmirAdapter] Loaded 457 routes
 LOG  [useAdapter] useEffect - adapterInstance: true
 LOG  [useAdapter] Already initialized, setting adapter
 LOG  [useStops] useEffect - adapter: true, adapterLoading: false
 LOG  [useStops] loadStops called - adapter: true, adapterLoading: false
 LOG  [useStops] Calling adapter.loadStops()...
 LOG  [IzmirAdapter] Loading stops...
 LOG  [RouteScreen] stopsLoading: true, loadedStops: 0
 LOG  [NavigationContent] Skipping alert monitoring (Expo Go)
 LOG  [App] Data is fresh (< 7 days), skipping background refresh
 LOG  [MapScreen] Loaded 127 stops (excluded 11605 bus stops)
 LOG  [Database] Batch fetched routes for 127 stops in 1 query
 LOG  [IzmirAdapter] Loaded 11732 stops
 LOG  [Database] Found 8 stops with trip prefix "ferry_"
 LOG  [MapScreen] Ferry prefix detection: 8 ferry stops found, 0 icons added
 LOG  [MapScreen] Prefix fallback: 8 stops marked as under construction
 LOG  [MapScreen] Loaded route types for 127 stops
 LOG  [useStops] Got 11732 stops from adapter
 LOG  [MapScreen] Location permission not granted, showing prompt
 LOG  [AlertScraper] Fetching fresh alerts from operator websites...
 LOG  [useStops] Returning - stops: 11732, loading: false
 LOG  [LinesScreen] ===== LOADED 457 ROUTES =====
 LOG  [LinesScreen] Metro (2): ["M1|Kaymakamlık - Evka - 3|type=1", "M1|Evka - 3 - Kaymakamlık|type=1"]
 LOG  [LinesScreen] İZBAN (8): ["1884|Aliağa-Çiğli|type=2", "1793|Menemen-Cumaovası|type=2", "2010|Çiğli-Aliağa|type=2", "2006|Halkapınar-Çiğli|type=2", "1994|Gaziemir-Alsancak|type=2"]
 LOG  [LinesScreen] Tram (6): ["T1|Fahrettin Altay - Halkapınar|type=0", "T1|Halkapınar - Fahrettin Altay|type=0", "T2|Alaybey - Ataşehir|type=0", "T2|Ataşehir - Alaybey|type=0", "T3|Cigli Ring - Dis Hat (Kirmizi)|type=0"]
 LOG  [LinesScreen] Ferry (13): ["BOS-KON|Bostanlı - Konak - Bostanlı|type=4", "KAR-PAS|Karşıyaka - Pasaport - Alsancak - Karşıyaka | Karşıyaka - Alsancak -  Pasaport - Karşıyaka|type=4", "BOS-ÜÇK|Bostanlı - Üçkuyular - Bostanlı ( Araba Vapur Hattı )|type=4", "KAR-KON|Karşıyaka - Konak - Karşıyaka|type=4", "BOS-KON|Bostanlı - Konak - Bostanlı|type=4"]
 LOG  [LinesScreen] Bus (428): ["5|NARLIDERE - ÜÇKUYULAR İSKELE|type=3", "6|ARIKENT - ÜÇKUYULAR İSK.|type=3", "7|SAHİLEVLERİ - ÜÇKUYULAR İSK.|type=3"]
 LOG  [LinesScreen] ALL route_types in DB:
 LOG    type=1: M1, M1 (2 routes)
 LOG    type=0: T1, T1, T2, T2, T3, T3 (6 routes)
 LOG    type=2: 1884, 1793, 2010, 2006, 1994, 1949, 1946, 2027 (8 routes)
 LOG    type=4: BOS-KON, KAR-PAS, BOS-ÜÇK, KAR-KON, BOS-KON, BOS-KAR, KAR-KON, BOS-KAR, BOS-ALS, ÜÇK-GÖZ (13 routes)
 LOG    type=3: 5, 6, 7, 8, 9, 10, 15, 16, 17, 18 (428 routes)
 LOG  [RouteScreen] stopsLoading: false, loadedStops: 11732
 LOG  [RecentSearches] Loaded 5 recent stops
 LOG  [useStops] Returning - stops: 11732, loading: false
 LOG  [RouteScreen] useFocusEffect - refreshing stops
 LOG  [useStops] loadStops called - adapter: true, adapterLoading: false
 LOG  [useStops] Calling adapter.loadStops()...
 LOG  [IzmirAdapter] Loading stops...
 LOG  [useStops] Returning - stops: 11732, loading: true
 LOG  [RouteScreen] stopsLoading: true, loadedStops: 11732
 LOG  [IzmirAdapter] Loaded 11732 stops
 LOG  [useStops] Got 11732 stops from adapter
 LOG  [RouteScreen] Loaded preferences: fastest
 LOG  [Database] Active services for 20260212 (thursday): 10
 LOG  [useGTFSData] Stop counts: {"bus": 11605, "ferry": 9, "metro": 24, "other": 0, "rail": 41, "railServicesActive": 2, "railStopTimes": 6564, "total": 11732, "tram": 53}
 LOG  [Database] Active services for 20260212 (thursday): 10
 LOG  [useGTFSData] Stop counts: {"bus": 11605, "ferry": 9, "metro": 24, "other": 0, "rail": 41, "railServicesActive": 2, "railStopTimes": 6564, "total": 11732, "tram": 53}
 LOG  [useStops] Returning - stops: 11732, loading: false
 LOG  [RouteScreen] stopsLoading: false, loadedStops: 11732
 LOG  [Favorites] Removed favorite: metro_14 stop
 LOG  [Favorites] Removed favorite: metro_2 stop
 WARN  [AlertScraper] Fetch failed for https://www.eshot.gov.tr/tr/Haberler/534/288: [AbortError: Aborted]
 LOG  [AlertScraper] Found 0 recent alerts out of 3 total (Metro: 3, İZBAN: 0, ESHOT: 0)
 LOG  [IzmirAdapter] Loading routes...
 LOG  [IzmirAdapter] Loaded 457 routes
 LOG  [LinesScreen] ===== LOADED 457 ROUTES =====
 LOG  [LinesScreen] Metro (2): ["M1|Kaymakamlık - Evka - 3|type=1", "M1|Evka - 3 - Kaymakamlık|type=1"]
 LOG  [LinesScreen] İZBAN (8): ["1884|Aliağa-Çiğli|type=2", "1793|Menemen-Cumaovası|type=2", "2010|Çiğli-Aliağa|type=2", "2006|Halkapınar-Çiğli|type=2", "1994|Gaziemir-Alsancak|type=2"]
 LOG  [LinesScreen] Tram (6): ["T1|Fahrettin Altay - Halkapınar|type=0", "T1|Halkapınar - Fahrettin Altay|type=0", "T2|Alaybey - Ataşehir|type=0", "T2|Ataşehir - Alaybey|type=0", "T3|Cigli Ring - Dis Hat (Kirmizi)|type=0"]
 LOG  [LinesScreen] Ferry (13): ["BOS-KON|Bostanlı - Konak - Bostanlı|type=4", "KAR-PAS|Karşıyaka - Pasaport - Alsancak - Karşıyaka | Karşıyaka - Alsancak -  Pasaport - Karşıyaka|type=4", "BOS-ÜÇK|Bostanlı - Üçkuyular - Bostanlı ( Araba Vapur Hattı )|type=4", "KAR-KON|Karşıyaka - Konak - Karşıyaka|type=4", "BOS-KON|Bostanlı - Konak - Bostanlı|type=4"]
 LOG  [LinesScreen] Bus (428): ["5|NARLIDERE - ÜÇKUYULAR İSKELE|type=3", "6|ARIKENT - ÜÇKUYULAR İSK.|type=3", "7|SAHİLEVLERİ - ÜÇKUYULAR İSK.|type=3"]
 LOG  [LinesScreen] ALL route_types in DB:
 LOG    type=1: M1, M1 (2 routes)
 LOG    type=0: T1, T1, T2, T2, T3, T3 (6 routes)
 LOG    type=2: 1884, 1793, 2010, 2006, 1994, 1949, 1946, 2027 (8 routes)
 LOG    type=4: BOS-KON, KAR-PAS, BOS-ÜÇK, KAR-KON, BOS-KON, BOS-KAR, KAR-KON, BOS-KAR, BOS-ALS, ÜÇK-GÖZ (13 routes)
 LOG    type=3: 5, 6, 7, 8, 9, 10, 15, 16, 17, 18 (428 routes)
 LOG  [IzmirAdapter] Getting alerts...
 LOG  [AlertScraper] Using cached alerts (0 alerts)
